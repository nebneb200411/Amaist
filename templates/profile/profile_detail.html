{% extends 'base.html'%}

{% load static %}

{% block stylesheet %}

<link rel="stylesheet"href="{% static 'profile/profile_detail/profile_detail.css' %}"> 
{% endblock stylesheet %}


{% block contents %}

<div class='profile-left'>

    <div class='icon'><img src="{{ MEDIA_URL }}{{user.icon}}"/ style="width:300px; height:auto;">
    </div>


    <div class='username'> 

        <h1><p>{{user.username}}</p></h1>

    </div>

    <div class='introduction'> 

        {{user.introduction}}

    </div>

</div> 


<div class='profile-right'>
    <div class="container">
        <div class="row">
            <div class="my-div-style w-100">
                <div class="col-lg-8 col-md-10 mx-auto">
                    <div class="cleadfix">
                        <a class="btn btn-primary float-right" href="{% url 'article:CreateArticle' %}">新規作成</a>
                    </div>
                {% for article in article_list %}
                    <div class='articles'> 
                        <a href="#">
                            <h2 class="article-title">{{article.title}}</h2>
                            <h3 class="article-subtitle">{{article.content|truncatechars:20}}</h3>
                        </a>
                        <p class-"post-meta">{{article.created_at}}</p>
                    </div>
                    <hr>
                {% empty %}
                    <p>記事を作りましょう！</p>
                {% endfor %}

                {% if is_paginated %}
                    <ul class="pagination">
                        {% if page_obj.has_previous %}
                            <li class="page-item">
                                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                                    <span aria-hidden="true">&laquo;<span>
                                </a>
                            </li>
                        {% endif %}

                        {% for page_num in page_obj.paginator.page_range %}
                            {% if page_obj.number == page_num %}
                                <li class="page-item active"><a class-"page-link" href="#">{{page_num}}</a></li>
                            {% else %}
                                <li class="page-item"><a class="page-link" href="{{page_num}}">{{page_num}}</a></li>
                            {% endif %}
                        {% endfor %}

                        {% if page_obj.has_next %}
                            <li class="page-item">
                                <a class="page-link" href-"?page={{page_obj.next_page_number}}">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock contents %}
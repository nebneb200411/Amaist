{% extends 'base.html' %}
{% load static %}
{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'article/list.css' %}"/>
{% endblock stylesheet %}
{% block contents %}
    <!--
    <div class="searching">
        <form method="GET" action="{% url 'article:list' %}">
            <input type="text" name="article_search" placeholder="記事検索"/>
            <button type="submit" class="btn btn-success">記事検索</button>
        </form>
        <form method="GET">
            <input type="text" name="tag_search" placeholder="タグ検索"/>
            <button type="submit" class="btn btn-success">タグ検索</button>
        </form>
    </div>
    -->
    <div class="container-fluid">
        <div class="row">
            <div class ="col-xl-3 col-md-3 col-12" id="left-grid">
                <div class="searching">
                    <hr class="searching-hr"/>
                    <form method="GET" action="{% url 'article:list' %}" id="article-search">
                        <input type="text" name="article_search" placeholder="記事検索"/>
                        <button type="submit" class="btn btn-success">記事検索</button>
                    </form>
                    <hr class="searching-hr"/>
                    <form method="GET" id="tag-search">
                        <input type="text" name="tag_search" placeholder="タグ検索"/>
                        <button type="submit" class="btn btn-success">タグ検索</button>
                    </form>
                    <hr class="searching-hr"/>
                </div>
            </div>
            <div class="col-xl-6 col-md-6 col-12" id="article-grid">
                <!--作成記事単位-->
                <h1><i>New!!</i></h1>
                {% for article in article_list %}
                <hr class="article-division-hr"/>
                <div class="contaner-fluid">
                    <div class="row">
                        <div class="col-xl-3 col-md-3 col-12" id="icon">
                            <div class="author-icon">
                            <!--もし画像を選択していないときのデフォルトの画像を表示させる(今のところmodelsでやればいかなーて思ってる)-->
                                <img class="user-icon" src="{{ MEDIA_URL }}{{article.author.user.icon}}"/>
                            </div>
                        </div>

                        <div class="col-xl-9 col-md-9 col-12" id="author-name-created-at">
                            <div class="autor-name">
                                <p>Author:</p>
                                <h2 class="article-author">{{article.author}}</h2>
                            </div>
                            <div class="created-at">
                                <p>created at:</p>
                                <p class="font">{{article.created_at}}</p>
                            </div>
                            
                            <div class="tag-box">
                                {% for tag in article.tag.all %}
                                <p><i class="fas fa-tags"></i>{{tag}}</p>
                                {% empty %}
                                {% endfor %}
                            </div>
                        </div>

                        <div class="col-xl-12 col-md-12 col-12" id="title">
                            <hr class="title-hr"/>
                            <a href="{% url 'article:article_detail' article.pk %}">
                                <h3 class-"article-title">{{article.title}}</h3>
                            </a>
                            <hr class="title-hr"/>
                        </div>

                        <div class="col-xl-12 col-md-12 col-12" id="good-number">
                            <div>
                                <img class="good-img" src="{% static 'images/article/index/good.jpg' %}"/>
                                <p>{{article.good_from.all|length}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="col-xl-3 col-md-3 col-12" id="right-grid">
            </div>
            
        </div>
    </div>
        
{% endblock contents %}